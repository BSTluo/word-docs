---

outline: [2,5]
---

# koishi-plugin-word-core-chatai<br>[词库AI召唤器]

## 简介

词库引擎，OpenAI接口调用

启用此插件后，插件会提供一个新的语法，能够使用这个语法来接入OpenAI接口协议的ai接口。

## 使用方法

### 基础部分
<br>

##### 1. 插件配置

- 说明：

在控制台处：

    1. host是必填的，格式是https://xxxxxx/v1
    2. apiKey是必填的？）
    3. 模型是必填的！
    4. 系统提示词处可以编写ai的人格

![插件配置图片](./src/e77afcbf5745b601654016795fe4a10a7f8a7e2f.png)
<br>

##### 2. 使用方式

- 语法：

|作用|语法格式|返回值|
|:--:|:--:|:--:|
|向ai说xxx|(ai:`<xxx>`)|`ai的回复`|
|将触发词作为问题向ai发起|(ai)|`ai的回复`|

- 举例：

|作用|完整词库指令|返回值|
|:--:|:--:|:--:|
|当有人发你好时，让ai生成回复|word.add 你好 (ai:请生成欢迎我的一段话)|`ai的回复`|
|当有人发你好时，让ai生成回复|word.add 你好 (ai)|`ai的回复`|

***

### 进阶部分
<br>

##### 1. 正则输入与输出

词库支持正则，所以理论上可以这样的操作：

```
word.add ".*" (ai)
```

在正则中`.*`代表任意字符。

所以上述添加即代表：任意内容都可以触发ai的回复

##### 2. 嵌套输入与输出

词库语法支持嵌套，所以理论上可以这样操作：

```
word.add 加入群组公屏 "(ai:请帮我生成一份欢迎(@this)的欢迎词，直接给我结果就好)"
```

`(@this)`代表触发者的名字。

`加入群组公屏`这个触发词，会在有人进群的时候触发。

这个问答设定，应该能实现有人进群的时候，ai生成个性化的进群欢迎？