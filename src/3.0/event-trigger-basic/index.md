---
outline: [2,4]
---

# koishi-plugin-word-core-event-trigger-basic<br>[词库定时触发器]

## 简介

此插件为词库插件的附属扩展之一，其作用是为词库添加一个计划任务，可以每当计划任务的时间时，在设置计划任务的`频道`内触发某个`触发句`

## 注意事项

此插件在读取历史的未完成的触发句，请不要在触发句的回复句中加入(调)和(wi)语法，可能会导致无法使用

## 使用方法

### corn格式

- 说明：

corn格式在线生成器：[https://cron.qqe2.com/](https://cron.ciding.cc/)

```
* * * * * *
```

这六个占位符从左至右分别表示：<br>
    秒（0-59）、分（0-59）、时（0-23）、日（1-31）、月（1-12）、周（0-7）

实际使用的时候需要在所需代表时间的占位符后输入`/x`（x为所需数字）

- 举例：

每过30秒触发：`*/30 * * * * *`

每小时的1分钟20秒触发：`*/20 */1 * * * *`

每天凌晨的1点10分20秒触发：`*/20 */10 */1 * * *`

每月5日下午3点40分50秒触发：`*50 */40 */15 */5 * *`

每年5月20日11点12分13秒触发：`*13 */12 */11 */20 */5 *`

每周星期四0点触发：`* * */0 * * */1`

### 指令

#### word.newTimer <`触发句`> <`corn时间格式`> [`次数`]

- 说明：

创建一个词库定时任务，执行设定的次数后，删除任务

触发句：词库触发句

计划任务格式：`corn格式`  

次数：此项为可选项，当不填时，则为1次，当-1时，则无数次

- 举例：

比如我们想让bot每隔3分钟发一句“哈哈”

```
1. word.newTimer 滴滴答 "* */3 * * * *"
2. word.add 滴滴答 哈哈
```

设置好如上步骤，bot回复后就会自动每隔3分钟发一次`哈哈`

#### word.stoptimer <`触发句`> <`corn时间格式`>

- 说明：

删除一个定时任务

触发句：词库触发句

计划任务格式：`corn格式`

#### word.listtimer

- 说明：

查看词库的所有触发器
